<html><head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>sdk_core</title>
</head><body><link href="../images/logo-icon.svg" rel="icon" type="image/svg"><script>var pathToRoot = "../";</script><script type="text/javascript" src="../scripts/sourceset_dependencies.js" async></script><link href="../styles/style.css" rel="Stylesheet"><link href="../styles/logo-styles.css" rel="Stylesheet"><link href="../styles/jetbrains-mono.css" rel="Stylesheet"><link href="../styles/main.css" rel="Stylesheet"><script type="text/javascript" src="../scripts/clipboard.js" async></script><script type="text/javascript" src="../scripts/navigation-loader.js" async></script><script type="text/javascript" src="../scripts/platform-content-handler.js" async></script><script type="text/javascript" src="../scripts/main.js" async></script>
  
    <div id="container">
      <div id="leftColumn"><a href="../index.html">
            <div id="logo"></div>
          </a>
        <div id="paneSearch"></div>
        <div id="sideMenu"></div>
      </div>
      <div id="main">
        <script type="text/javascript" src="../scripts/main.js"></script><div id="leftToggler"><span class="icon-toggler"></span></div>

        <div class="main-content" id="content" pageids="sdk_core::////PointingToDeclaration//-868120362">
          <div class="navigation-wrapper" id="navigation-wrapper">
            <div class="breadcrumbs"><a href="index.html">sdk_core</a></div>
            <div class="pull-right d-flex">
              <div id="searchBar"></div>
            </div>
          </div>
          <div class="cover ">
            <h1 class="cover"><span>sdk_core</span></h1>
            <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":sdk_core:dokkaHtmlPartial/release"><h2 class=""> Description</h2><p class="paragraph">This module contains the Adition AdSDK for Android. Apps using this AdSDK must be built for Android SDK Level 24.</p><h2 class=""> Getting started</h2><p class="paragraph">To use the AdSDK you need to</p><ul><li><p class="paragraph">Add the package dependencies</p></li><li><p class="paragraph">Initialize and configure the AdService</p></li><li><p class="paragraph">Register Ad Renderers</p></li><li><p class="paragraph">Request Ads and use AdState</p></li></ul><p class="paragraph">For a step by step documentation with example code, please refer to the <a href="https://github.com/VM-Mobile-SDK/nextgen-adsdk-android-release#readme">getting started documentation.</a></p><h2 class=""> AdSDK concepts explained</h2><p class="paragraph">To use the ADITION AdSDK the application developer will need to acquire the Ad SDK library as well as “networkId” and “contentUnitId” pairs from an ADITION customer.</p><p class="paragraph">Your App uses the AdSDK to request ads from the Adserver.<br>To enable the adserver to serve relevant ads, you can pass information when requesting ads: </p><ul><li><p class="paragraph">Network ID (required) supplied when configuring the AdService</p></li><li><p class="paragraph">contentUnit (required) supplied when requesting an Advertisement</p></li><li><p class="paragraph">profiles (optional) supplied when requesting an Advertisement</p></li><li><p class="paragraph">keywords (optional) supplied when requesting an Advertisement</p></li><li><p class="paragraph">windowId (optional) supplied when requesting an Advertisement</p></li></ul><h2 class=""> Important Classes &amp; Functions</h2><p class="paragraph">When dealing with Ads you will interact with the following classes:</p><ul><li><p class="paragraph">AdService - for configuring and management of the cache. You create and use this as a singleton.</p></li><li><p class="paragraph">Advertisement - represents an advertisement with methods for loading the Ad content. </p></li></ul><p class="paragraph">These classes allow the configuration and loading of Ads independent from any display technology. If your app is using Compose, then use the <code>sdk_presentation_compose</code> package which adds additional classes that deal with the rendering and presentation of Ads:</p><ul><li><p class="paragraph"><code>Ad</code> is a Composable you can put into your view hierarchy that can render an Ad.</p></li><li><p class="paragraph"><code>Ad</code> depends on a <code>AdState</code> object that represents the state and model of an Advertisement.</p></li></ul><h2 class=""> Displaying Ads</h2><p class="paragraph">The Composable that will be used to display a mobile creative is called <code>Ad</code>. </p><p class="paragraph">For Compose based Apps, there are two ways for displaying Ads:</p><h3 class=""> Option one - convenient</h3><p class="paragraph">Use the <code>rememberAdState</code> function to fetch an Ad's based on your desired parameters (contentUnit, profiles, keywords).  </p><div class="sample-container"><code class="" theme="idea"><pre>val adState = rememberAdState("4810915")</pre></code></div><p class="paragraph"><code>rememberAdState</code> returns and <code>AdState</code> object, which you use during initialization of the <code>Ad</code> composable:</p><div class="sample-container"><code class="" theme="idea"><pre> Ad(adState = adState, modifier = Modifier<br>                        .width(500.dp)<br>                        .height(300.dp))</pre></code></div><p class="paragraph">That's all!</p><h3 class=""> Option two – fine grained control</h3><p class="paragraph">Alternatively, if you need more control about when requests for Ads actually happen OR if you want to load a large number of ads concurrently, you can chose this alternative way:</p><p class="paragraph">Create an <code>Advertisement</code> object directly using the desired parameters (contentUnit, profiles, keywords) and the list of all ad renderers that are available:</p><div class="sample-container"><code class="" theme="idea"><pre>val myAd = Advertisement("4810915", AdComposeRenderRegistry.getAllRendererNames())</pre></code></div><p class="paragraph">You now can trigger fetching and decoding when it's convenient for you using the <code>Advertisments</code><code>.loadAdvertisement</code> method.</p><div class="sample-container"><code class="" theme="idea"><pre>viewModelScope.launch {<br>	myAd.loadAdvertisement()<br>}</pre></code></div><p class="paragraph">For displaying <code>Ad</code> composable, use the variant of <code>rememberAdState</code> which accepts an <code>Advertisement</code> object:</p><div class="sample-container"><code class="" theme="idea"><pre>Ad(adState = rememberAdState(myAd))</pre></code></div><h2 class=""> Details</h2><h3 class=""> Network ID and ContentUnit</h3><h3 class=""> Profiles</h3><p class="paragraph">When requesting a banner it is possible to send application targeting profiles which can be used to select the correct banner that should be delivered. The profile-targeting is explained in the section, <code>Targeting</code>_.</p><h3 class=""> Using the ADITION Window ID</h3><p class="paragraph">The ADITION AdSDK provides functionality to organize window ids so that inclusion and exclusion filters can be evaluated.</p><p class="paragraph">Naturally, the window id does not expire after a specific time. Keep in mind though, that it can not be guaranteed for a window id to function properly after a waiting time of 60 seconds between requests with that same window id.</p><p class="paragraph">By default, every <code>`Advertisement`</code> you request creates a new window id.  To use the same window id, you can pass a value when creating an Advertisement object:</p><div class="sample-container"><code class="" theme="idea"><pre>// use windowId "12345"<br><br>val adState = rememberAdState("4810915", wi="12345")</pre></code></div><p class="paragraph">Or alternatively, using the Advertisement object:</p><div class="sample-container"><code class="" theme="idea"><pre>// use windowId "12345"<br><br>val ad = Advertisement("4810915", AdComposeRenderRegistry.getAllRendererNames(), wi = "12345")</pre></code></div><h3 class=""> Handling inApp-ClickURL</h3><p class="paragraph">inApp-ClickURLs is a feature which allows you to specify a custom schemed click url. An example of a custom scheme url is <code>`myschema://coupons`</code>. Banners with this option selected will not open a browser when it is clicked. It will attempt to fire an intent which has been registered to handle the custom schemed click url.</p><p class="paragraph">The ADITION click counting works by initially calling the adserver url which will then count the click and redirect to the banner click url. By default this is done by the built-in ADITION browser. The exception to this default click handling is with inApp-ClickURL banners, as they are handled by the SDK internally which ensures the click is successfully counted and the intent fired.</p><p class="paragraph">It is important that the app has registered intent-filters for the banner being delivered otherwise the fired intent will be silently ignored.</p><p class="paragraph">It is possible to have multiple http-schema redirects with this option activated, but they will be silently requested and ignored if they don't end up redirecting to a custom schema. Using common schemas like http will result in a dialog popup which will request the user to select the (default) app to handle the intent.</p><h3 class=""> Profile-Targeting</h3><p class="paragraph">Profile targeting allows the developer to add key and value pairs to the banner request. Profile targeting allows for complex targeting of banners as one is able to set key and value pairs for example (key,value) as ("gender","male") and ("activity","news") which will allow a banner to match with the profile expression "gender='male' and activity='news'".</p><p class="paragraph">Keys must match the following regular expression:    <code>`^[A-Za-z_0-9~.-]{1,60}$`</code> Values must match the following regular expression:    <code>`^[A-Za-z_0-9~.-]{1,255}$`</code></p><p class="paragraph">Other characters can not be guaranteed to work properly. Additionally keys may only start with a character. </p><p class="paragraph">If the profiles fail validation, a <code>`SdkInternalException`</code> will be thrown.</p><p class="paragraph">You can use profile-targeting variables in several ways:</p><p class="paragraph">As a parameter for rememberAdState:</p><div class="sample-container"><code class="" theme="idea"><pre>val profiles = hashMapOf("prof1" to "val1")<br><br>val adState = rememberAdState("4810915", wi="12345", profiles=profiles)</pre></code></div><p class="paragraph">Or alternatively, using the Advertisement object:</p><div class="sample-container"><code class="" theme="idea"><pre>val profiles = hashMapOf("prof1" to "val1")<br><br>val ad = Advertisement("4810915", AdComposeRenderRegistry.getAllRendererNames(), wi = "12345", profiles = profiles)</pre></code></div><h3 class=""> Keyword-Targeting</h3><p class="paragraph">The keyword targeting is a simple comma separated list of keywords that can be used to make partial or complete keyword list targeting.</p><p class="paragraph">The keyword list can be set using in several ways:</p><p class="paragraph">As a parameter for rememberAdState:</p><div class="sample-container"><code class="" theme="idea"><pre>val kw = hashMapOf("prof1" to "val1")<br><br>val adState = rememberAdState("4810915", wi="12345", keywords=kw)</pre></code></div><p class="paragraph">Or alternatively, using the Advertisement object:</p><div class="sample-container"><code class="" theme="idea"><pre>val kw = hashMapOf("prof1" to "val1")<br><br>val ad = Advertisement("4810915", AdComposeRenderRegistry.getAllRendererNames(), wi = "12345", keywords = kw)</pre></code></div><p class="paragraph">This targeting is generally useful for category and meta type targeting. Most campaigns will use profile targeting instead as it provides a syntactical targeting which is superior.</p><h3 class=""> Tagging</h3><p class="paragraph">Tagging targeting is a server side tagging (user profile) feature. You are able to tag a user currently using your application with key = value tags that can be used in targeting of campaigns within the ADITION adserving platform. A Tag in ADITION consists of a key and a value. The key is made up of 2 parts. The attribute and the sub-attribute. An example of a tag could be:</p><p class="paragraph">  MyShop.ProductNumber = '123'</p><p class="paragraph">The Tags can be setup on the adition server to keep all the tags or always overwrite with the last sent tag. Therefore it is possible to have a history or the most current tag value.</p><p class="paragraph">The client/app can fire the tag request as soon as an event or action occurs within the app. The AdDelivery requests made after a tag was sent will be able to use the tags within the targeting.</p><p class="paragraph">Tag requests can be fired by using the <code>tagUser</code> method of the <code>AdService</code> singleton:</p><div class="sample-container"><code class="" theme="idea"><pre>AdService.getInstance().tagUser(listOf(TagRequest("segments", "category", "home")))</pre></code></div><h2 class=""> Events</h2><p class="paragraph">The advertisement will emit events during its lifecycle: Loading, Caching, AdReadyToDisplay and, conditionally, Error.</p><p class="paragraph">You can observe them like this:</p><div class="sample-container"><code class="" theme="idea"><pre>    when (val state = adState.state) {
        is AdState.State.Error -&gt; {
            Text(text = "error")
            state.throwable.printStackTrace()
        }
        is AdState.State.Loading -&gt; CircularProgressIndicator(
            modifier = Modifier.size(
                64.dp
            )
        )
        is AdState.State.Caching -&gt; {
            Text(text = "Loading ad...")
        }
        is AdState.State.AdReadyToDisplay -&gt; {
        }
    }</pre></code></div><p class="paragraph">You can observe the events like this:</p><div class="sample-container"><code class="" theme="idea"><pre>    AdService.getInstance().eventHandler!!.events.collectLatest {
        Log.e("MainActivity", "Collected EVENT - $it")
    }</pre></code></div><h3 class=""> Errors</h3><p class="paragraph">If an error prevents an Advertisement from being delivered or rendered, the Advertisement's AdState will be <code>Error</code>. You have to decide how to handle errors within your App. For example, you could re-try requesting an Ad or fail silently and hide the ad space.</p></div></div>
          </div>
          <h2 class="">Packages</h2>
          <div class="table"><a data-name="%5Bcom.adsdk.sdk_core%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" anchor-label="com.adsdk.sdk_core" id="%5Bcom.adsdk.sdk_core%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" data-filterable-set=":sdk_core:dokkaHtmlPartial/release"></a>
            <div class="table-row" data-filterable-current=":sdk_core:dokkaHtmlPartial/release" data-filterable-set=":sdk_core:dokkaHtmlPartial/release">
              <div>
                <div class="main-subrow ">
                  <div class=""><span class="inline-flex"><a href="sdk_core/com.adsdk.sdk_core/index.html">com.adsdk.sdk_core</a><span class="anchor-wrapper"><span class="anchor-icon" pointing-to="%5Bcom.adsdk.sdk_core%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362"></span>
                        <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                      </span></span></div>
                  <div class="pull-right"></div>
                </div>
                <div><span class="brief-comment"><a data-name="%5Bcom.adsdk.sdk_core%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" anchor-label="com.adsdk.sdk_core" id="%5Bcom.adsdk.sdk_core%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" data-filterable-set=":sdk_core:dokkaHtmlPartial/release"></a>
                    <h2 class=""> Description</h2>
This module contains the core functionality of the Adition Ad SDK which is independent on any display technology.</span></div>
              </div>
            </div>
<a data-name="%5Bcom.adsdk.sdk_core.cache%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" anchor-label="com.adsdk.sdk_core.cache" id="%5Bcom.adsdk.sdk_core.cache%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" data-filterable-set=":sdk_core:dokkaHtmlPartial/release"></a>
            <div class="table-row" data-filterable-current=":sdk_core:dokkaHtmlPartial/release" data-filterable-set=":sdk_core:dokkaHtmlPartial/release">
              <div>
                <div class="main-subrow ">
                  <div class=""><span class="inline-flex"><a href="sdk_core/com.adsdk.sdk_core.cache/index.html">com.adsdk.sdk_core.cache</a><span class="anchor-wrapper"><span class="anchor-icon" pointing-to="%5Bcom.adsdk.sdk_core.cache%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362"></span>
                        <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                      </span></span></div>
                  <div class="pull-right"></div>
                </div>
                <div><span class="brief-comment"><a data-name="%5Bcom.adsdk.sdk_core.cache%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" anchor-label="com.adsdk.sdk_core.cache" id="%5Bcom.adsdk.sdk_core.cache%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" data-filterable-set=":sdk_core:dokkaHtmlPartial/release"></a>Local disk cache used for preserving ad assets.</span></div>
              </div>
            </div>
<a data-name="%5Bcom.adsdk.sdk_core.internal%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" anchor-label="com.adsdk.sdk_core.internal" id="%5Bcom.adsdk.sdk_core.internal%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" data-filterable-set=":sdk_core:dokkaHtmlPartial/release"></a>
            <div class="table-row" data-filterable-current=":sdk_core:dokkaHtmlPartial/release" data-filterable-set=":sdk_core:dokkaHtmlPartial/release">
              <div>
                <div class="main-subrow ">
                  <div class=""><span class="inline-flex"><a href="sdk_core/com.adsdk.sdk_core.internal/index.html">com.adsdk.sdk_core.internal</a><span class="anchor-wrapper"><span class="anchor-icon" pointing-to="%5Bcom.adsdk.sdk_core.internal%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362"></span>
                        <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                      </span></span></div>
                  <div class="pull-right"></div>
                </div>
                <div></div>
              </div>
            </div>
<a data-name="%5Bcom.adsdk.sdk_core.internal.model%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" anchor-label="com.adsdk.sdk_core.internal.model" id="%5Bcom.adsdk.sdk_core.internal.model%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362" data-filterable-set=":sdk_core:dokkaHtmlPartial/release"></a>
            <div class="table-row" data-filterable-current=":sdk_core:dokkaHtmlPartial/release" data-filterable-set=":sdk_core:dokkaHtmlPartial/release">
              <div>
                <div class="main-subrow ">
                  <div class=""><span class="inline-flex"><a href="sdk_core/com.adsdk.sdk_core.internal.model/index.html">com.adsdk.sdk_core.internal.model</a><span class="anchor-wrapper"><span class="anchor-icon" pointing-to="%5Bcom.adsdk.sdk_core.internal.model%2F%2F%2F%2FPointingToDeclaration%2F%5D%2FPackages%2F-868120362"></span>
                        <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
                      </span></span></div>
                  <div class="pull-right"></div>
                </div>
                <div></div>
              </div>
            </div>
          </div>
        </div>
        <div class="footer"><span class="go-to-top-icon"><a href="#content"></a></span><span>© 2023 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span></div>
      </div>
    </div>
  


</body></html>
